# 반려견 성장 파트너 앱 설계도 (v5.0)

**최종 수정:** 2025년 8월 18일

**핵심 방향:** RPG 컨셉의 '클래스 성장 시스템' 및 '훈련 스킬 트리' 구축

## 1. 개요

이 문서는 '반려견 성장 파트너' 앱의 핵심 게이미피케이션 시스템을 **4개의 클래스(직업)와 하위 전문 기술 트리로 구성된 RPG 컨셉으로 재정의**하는 것을 목표로 합니다. 보호자는 반려견의 성장 방향을 특정 역할군으로 전문화시키며, 전략적인 선택의 재미를 통해 훈련에 깊이 몰입하게 됩니다.

---

## 2. 핵심 컨셉: 클래스 성장 시스템 (Class Growth System)

모든 반려견은 4개의 핵심 '클래스 경로' 중 하나를 선택하여, 보호자의 훈련에 따라 다양한 '전문 기술'을 연마해 나갑니다. 훈련을 통해 얻는 '훈련 포인트(TP)'는 스킬을 배우고 성장시키는 '경험치' 역할을 합니다.

### 4대 클래스 구조

-   **🛡️ 수호자 (Guardian):** 예절과 기본 소양 중심의 안정적인 클래스.
-   **🔮 현자 (Sage):** 내면 문제 극복과 평정심 중심의 지능적인 클래스.
-   **🏹 레인저 (Ranger):** 사회성과 교감 능력 중심의 사교적인 클래스.
-   **⚔️ 전사 (Warrior):** 신체 능력과 개인기 중심의 활동적인 클래스.

각 클래스는 2개의 전문 기술 트리(예: 수호자 -> '수호자의 맹세', '기사의 규율')를 가지며, 각 트리는 여러 개의 개별 스킬로 구성됩니다.

---

## 3. 새로운 작동 방식 (Game Loop)

1.  **퀘스트 수행 & TP 획득:** 사용자는 활성화된 '훈련 퀘스트'를 수행하고 **'훈련 포인트(TP)'**를 얻습니다.
2.  **클래스 성장 및 스킬 투자:** 사용자는 **`SkillTreePage`**에서 원하는 클래스의 전문 기술 트리를 선택하고, TP를 투자하여 스킬을 배우고 레벨업합니다.
3.  **보상 획득 및 장착:** 스킬 레벨이 주요 단계(Milestone)에 도달하면, 능력치를 올려주는 **'보상 아이템'**을 획득하여 **`InventoryPage`**에 보관하고, '디지털 신분증'에 **'장착'**합니다.
4.  **경쟁 참여:** 장착한 아이템의 능력치를 바탕으로 다른 사용자와의 '산책 챌린지' 등에서 경쟁합니다.

---

## 4. 개발 계획 (Development Plan)

### 1순위 (최우선): 클래스 성장 시스템 기반 구축 - ⏳ 진행 중

1.  **데이터 모델 재설계 - ✅ 완료:**
    -   `skill_model.dart`, `item_model.dart` 신규 생성 완료.
    -   `dog_model.dart`에 클래스, 스킬, 아이템 관련 필드 추가 완료.
2.  **로컬 데이터베이스 구축 - ✅ 완료:**
    -   `skill_tree_database.dart`와 `item_database.dart`에 기본 데이터 정의 완료.
3.  **핵심 로직 구현 (`DogService`) - ✅ 완료:**
    -   `spendTrainingPoints`, `equipItem` 등 핵심 백엔드 로직 구현 완료.
4.  **UI/UX 구현 - ⏳ 진행 중:**
    -   `SkillTreePage.dart` 프로토타입 개발 및 로직 연동 완료.
    -   `InventoryPage.dart` 프로토타입 개발 및 로직 연동 완료.
    -   **다음 작업:** `DogIdCardWidget`에 클래스, 스킬, 장착 아이템을 시각적으로 표시하도록 업데이트.

### 2순위: AI 훈련 퀘스트 연동

-   `AIService`를 구현하여, 사용자의 반려견 클래스와 현재 스킬 상태에 맞는 '맞춤 훈련 퀘스트'를 AI가 동적으로 생성하도록 시스템을 고도화합니다.

### 3순위 (장기 비전): '산책 챌린지' 기능 구현

-   클래스, 스킬, 아이템 등 모든 성장 시스템이 완비되었을 때, 이를 활용하여 다른 사용자와 경쟁하는 GPS 기반의 최종 콘텐츠를 구현합니다.
