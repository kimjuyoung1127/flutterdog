# 반려견 성장 파트너 앱 설계도 (v4.2)

**최종 수정:** 2025년 8월 18일

**핵심 컨셉:** 레트로 디지털 신분증과 스킬 시스템을 연동한 GPS 기반 산책 챌린지

## 1. 개요

이 문서는 '반려견 성장 파트너' 앱의 개발 방향을 **'디지털 신분증'**, **'훈련 퀘스트 및 스킬 시스템'**, 그리고 **'GPS 산책 게임'**이라는 세 가지 핵심 축을 중심으로 재정의하는 계획을 기술합니다.

---

## 2. 개발 및 테스트 전략 (Development & Testing Strategy)

- **핵심 기능 우선:** '디지털 신분증'과 '훈련 퀘스트' 시스템처럼, 하드웨어 의존성이 없는 핵심 게임 로직을 먼저 구현하여 앱의 재미를 빠르게 구체화합니다.
- **하이브리드 테스트 워크플로우:**
    1.  **Firebase Studio:** UI 개발 및 비즈니스 로직 구현 등 대부분의 개발을 웹 기반의 빠른 개발 환경에서 진행합니다.
    2.  **Git 푸시:** 기능 개발이 완료되면, 원격 저장소(`https://github.com/kimjuyoung1127/flutterdog`)에 코드를 푸시합니다.
    3.  **로컬 환경 테스트:** GPS, 카메라 등 실제 하드웨어 연동이 필요한 기능은, 노트북의 로컬 개발 환경(Android Studio 등)으로 코드를 pull 한 후, 실제 휴대폰을 연결하여 테스트하고 디버깅합니다.
- **인증 기능 간소화:** 개발 속도 향상을 위해 익명 인증을 사용하며, 핵심 기능 개발 완료 후 실제 SNS 인증을 활성화합니다.

---

## 3. 핵심 경험 (Core Experience)

### Part 1: 나의 반려견 디지털 신분증 (Character Sheet)

- **신분증 발급 (점진적 완성):** 최소 정보(이름/품종)만으로 신분증을 즉시 발급받고, 언제든지 정보를 추가하여 프로필을 완성할 수 있습니다.
- **신분증 관리:** `MyDogsPage`에서 모든 반려견의 신분증을 관리합니다.

### Part 2: 훈련 퀘스트 & 스킬 시스템 (Training & Skills) - *NEW PRIORITY*

- **훈련 퀘스트:** 사용자의 반려견 프로필에 입력된 '훈련 목표'와 '문제 행동'이 자동으로 '훈련 퀘스트' 목록으로 생성됩니다.
- **스킬 획득:** 사용자는 퀘스트를 받아 간단한 훈련 일지를 기록하는 방식으로 퀘스트를 완료하고, 보상으로 고유한 '스킬'을 획득합니다.
- **스킬 활용:** 획득한 스킬은 디지털 신분증에 표시되며, 추후 구현될 '산책 챌린지'에서 내 강아지의 능력치로 사용됩니다.

### Part 3: 산책 챌린지 & 영역 다툼 (GPS-based Game)

- **GPS 기반 산책:** `geolocator`를 활용해 산책 경로, 거리, 시간을 기록합니다.
- **비동기 챌린지:** 산책 중 다른 사용자의 '흔적'을 발견하고, AI와 비동기 챌린지를 진행합니다. 이때, '훈련 퀘스트'를 통해 획득한 스킬들이 능력치로 사용됩니다.
- **영역 다툼:** 실제 장소에 '체크인'하여, 해당 장소의 '터줏대감' AI와 챌린지를 벌여 영역을 차지합니다.

---

## 4. 개발 계획 (Development Plan)

### **1순위: '디지털 신분증' 시스템 - ✅ 완료**

- **기반 설정, 점진적 프로필 완성, 개발용 인증 도입**을 모두 완료했습니다.

### **2순위: "훈련 퀘스트 & 스킬 시스템" - ⏳ 진행 중**

1.  **`Skill` 모델 및 데이터 정의:** `skill_model.dart`를 생성하고, 앱에서 사용될 모든 스킬의 목록을 `skills_database.dart`에 정의합니다.
2.  **UI 구현:** `DogIdCardWidget`에 획득한 스킬을 표시하는 영역을 추가하고, 훈련 퀘스트를 보여주는 `TrainingPage.dart`를 신규 개발합니다.
3.  **백엔드 로직:** `Dog` 모델에 `acquiredSkills` 필드를 추가하고, `DogService`에 스킬 획득 로직을 구현합니다.

### **3순위: '산책 챌린지' 기능 구현**

1.  **GPS 및 지도 연동:** `geolocator`, `google_maps_flutter` 패키지를 추가하고 권한 처리 및 지도 표시 기능을 구현합니다.
2.  **챌린지 및 POI 시스템:** 비동기 챌린지, 영역 다툼 시스템의 백엔드 로직을 개발합니다.
