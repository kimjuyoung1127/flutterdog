# 반려견 성장 파트너 앱 설계도 (v5.3)

**최종 수정:** 2025년 8월 20일

**핵심 컨셉:** 온디바이스 AI 기반 훈련 퀘스트와 'TP/재료'를 사용하는 하이브리드 RPG 성장 시스템

## 1. 개요
이 문서는 '반려견 성장 파트너' 앱의 개발 방향을 정의하는 최상위 기획 문서입니다. 이 앱은 **온디바이스 AI**를 활용하여 보호자가 반려견의 훈련 과정을 RPG 게임처럼 즐길 수 있는 경험을 제공하는 것을 목표로 합니다.

## 2. 개발 및 테스트 전략
- **핵심 기능 우선:** GPS 등 하드웨어 의존성이 없는 핵심 게임 로직을 먼저 구현합니다.
- **하이브리드 워크플로우:** Firebase Studio(웹)와 로컬 환경(Android Studio 등)을 병행하여 개발 및 테스트를 진행합니다.

## 3. 핵심 게임 루프 (Core Game Loop)
- **퀘스트 생성:** `AIService`는 사용자의 반려견 프로필을 분석하여, **온디바이스 AI(향후 도입 예정)**를 통해 개인화된 훈련 퀘스트를 생성합니다. (현재는 서버 기반 Gemini 모델 사용)
- **보상 획득:** 퀘스트를 완료하면 **'훈련 포인트(TP)'와 '훈련 재료'**를 모두 획득합니다.
- **클래스 성장:** 획득한 TP와 재료를 소모하여 '스킬 트리'에서 스킬을 배우고 레벨업합니다.
- **장비 장착:** 스킬의 마일스톤 보상으로 얻은 '아이템'을 '디지털 신분증'에 장착하여 능력치를 강화합니다.

## 4. 개발 계획 (Development Plan)

### 1순위: AI 훈련 퀘스트 & 클래스/장비 시스템 기반 구축 - ✅ 완료
- **AI 서비스 구축:** 서버 기반 AI(`FirebaseVertexAI`)를 사용하여 퀘스트를 생성하는 `AIService`의 프로토타입을 완료했습니다.
- **데이터 모델링 및 DB 구축:** `Dog`, `Quest`, `Skill`, `Item`, `Material` 모델 및 관련 로컬 데이터베이스 구축을 완료했습니다.
- **핵심 로직 및 UI 구현:** `DogService`, `SkillTreePage`, `InventoryPage` 등 핵심 로직과 UI 구현을 완료했습니다.

### 2순위: 온디바이스 AI 전환 및 고도화 - ⏳ 진행 중
- **다음 작업:** 현재 서버 기반인 `AIService`를 **온디바이스 AI 모델(예: Gemma)**을 사용하도록 전환하는 연구 개발을 진행합니다. 이를 통해 인터넷 연결 없이도 퀘스트 생성이 가능하도록 앱의 기능을 고도화합니다.

### 3순위 (장기 비전): GPS 기반 '산책 챌린지'
- 핵심 AI 및 성장 시스템이 안정화된 후, GPS를 활용한 최종 콘텐츠를 구현합니다.
